webpackJsonp([1],{0:function(t,e){},"7zck":function(t,e){},"9lrd":function(t,e){},EsPp:function(t,e){},J8Sc:function(t,e){},KPil:function(t,e){},NAPK:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("7+uW"),r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-toolbar",{staticClass:"teal--text",attrs:{fixed:""}},[s("v-toolbar-title",{staticClass:"mr-4"},[s("span",{staticClass:"logo",on:{click:function(e){t.GoTo({name:"home"})}}},[t._v("Title")])]),t._v(" "),s("v-toolbar-items",[s("v-btn",{attrs:{flat:"",to:"songs"}},[t._v("Browse")]),t._v(" "),s("v-btn",{attrs:{icon:""}},[s("v-icon",[t._v("search")])],1)],1),t._v(" "),s("v-spacer"),t._v(" "),s("v-toolbar-items",[t.$store.state.isLoggedin?t._e():s("v-btn",{attrs:{flat:""},on:{click:function(e){t.GoTo({name:"login"})}}},[t._v("Login\r\n      ")]),t._v(" "),t.$store.state.isLoggedin?t._e():s("v-btn",{attrs:{to:"register",flat:""}},[t._v("Sign up\r\n      ")]),t._v(" "),t.$store.state.isLoggedin?s("v-btn",{attrs:{flat:""},on:{click:t.logOut}},[t._v("Log out\r\n      ")]):t._e()],1)],1)],1)},staticRenderFns:[]};var a={name:"App",components:{PageHeader:s("VU/8")({methods:{GoTo:function(t){this.$router.push(t)},logOut:function(){this.$store.dispatch("setToken",null),this.$store.dispatch("setUser",null),this.$router.push({name:"home"}),this.$socket.close()}}},r,!1,function(t){s("NAPK")},"data-v-0c7d93b6",null).exports}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("v-app",[e("page-header"),this._v(" "),e("main",[e("router-view")],1)],1)],1)},staticRenderFns:[]};var o=s("VU/8")(a,l,!1,function(t){s("mwOR")},null,null).exports,i=s("/ocq"),c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-layout",{attrs:{id:"home",column:""}},[e("v-container",{attrs:{fluid:""}},[e("v-layout",[e("v-flex",{attrs:{sm12:""}},[e("div",{staticClass:"white--text teal"},[e("h1",[this._v("Title")])])])],1),this._v(" "),e("v-layout",[e("v-flex",{attrs:{sm4:""}},[e("h2",{staticClass:"card cyan accent-1"},[this._v("\n              123\n            ")])]),this._v(" "),e("v-flex",{attrs:{sm4:""}},[e("h2",{staticClass:"teal darken-2"},[this._v("\n                12\n              ")])]),this._v(" "),e("v-flex",{attrs:{sm4:""}},[e("h2",{staticClass:"orange"},[this._v("\n                555\n              ")])])],1)],1)],1)},staticRenderFns:[]};var u=s("VU/8")({name:"Home",data:function(){return{}}},c,!1,function(t){s("nAxl")},"data-v-1cfa471b",null).exports,d=s("Xxa5"),v=s.n(d),m=s("exGp"),f=s.n(m),p=s("mtWM"),g=s.n(p),h=function(){return g.a.create({baseURL:"http://localhost:3000/"})},x=function(t){return h().post("register",t)},_=function(t){return h().post("login",t)},b=function(t,e){t.query.token=e,console.log(t),t.open()},k={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"white elevation-2"},[s("v-toolbar",{staticClass:"teal",attrs:{flat:"",dense:""}},[s("v-toolbar-title",{staticClass:"white--text"},[t._v(t._s(t.title))]),t._v(" "),t._t("button")],2),t._v(" "),t._t("default",[t._v("\n                No slot content.\n            ")])],2)},staticRenderFns:[]};var w=s("VU/8")({props:["title"]},k,!1,function(t){s("uEEI")},"data-v-21b6ab48",null).exports,y={name:"register",components:{Panel:w},data:function(){return{email:"",password:"",error:null,rules:{required:function(t){return!!t||"Required."},email:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||"Invalid e-mail."}}}},watch:{email:function(t){console.log("email changed",t)}},methods:{register:function(){var t=this;return f()(v.a.mark(function e(){var s,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x({email:t.email,password:t.password});case 3:return s=e.sent,t.$store.dispatch("setToken",s.data.token),t.$store.dispatch("setUser",s.data.user),console.log(s),t.error=null,n=s.data.user,e.next=11,b(t.$socket,t.$store.state.token);case 11:t.$socket.emit("login",n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),t.error=e.t0.response.data.error||e.t0.response.data;case 17:case"end":return e.stop()}},e,t,[[0,14]])}))()}}},C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{"pt-2":"","align-center":"","justify-center":""}},[s("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[s("v-card",[s("panel",{attrs:{title:"Register"}},[s("v-container",{attrs:{fluid:""}},[s("v-text-field",{attrs:{type:"email",label:"email",rules:[t.rules.required]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),s("v-text-field",{attrs:{label:"password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"danger-alert",domProps:{innerHTML:t._s(t.error)}}),t._v(" "),s("br"),t._v(" "),s("v-btn",{staticClass:"teal",attrs:{dark:""},on:{click:t.register}},[t._v("\n                  Register\n                ")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var $=s("VU/8")(y,C,!1,function(t){s("EsPp")},"data-v-5c4d32ed",null).exports,q={name:"Login",components:{Panel:w},data:function(){return{email:"",password:"",error:null,rules:{required:function(t){return!!t||"Required."},email:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||"Invalid e-mail."}}}},watch:{email:function(t){}},sockets:{login:function(t){console.log(t)},newUserAdded:function(t){console.log(t),this.$store.dispatch("NEW_USER",t)}},methods:{login:function(){var t=this;return f()(v.a.mark(function e(){var s,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_({email:t.email,password:t.password});case 3:return s=e.sent,t.$store.dispatch("setToken",s.data.token),t.$store.dispatch("setUser",s.data.user),console.log(s),t.error=null,n=s.data.user,e.next=11,b(t.$socket,t.$store.state.token);case 11:t.$socket.emit("login",n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),t.error=e.t0.response.data;case 17:case"end":return e.stop()}},e,t,[[0,14]])}))()},hello:function(){this.$socket.emit("hello","hello yo")}},created:function(){console.log(et),et.on("disconnect",function(){console.log("disconnected yo")})}},E={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{"pt-2":"","align-center":"","justify-center":""}},[s("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[s("v-card",[s("panel",{attrs:{title:"Login"}},[s("v-container",{attrs:{fluid:""}},[s("v-text-field",{attrs:{type:"email",label:"email",rules:[t.rules.required]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),s("v-text-field",{attrs:{label:"password",type:"password",rules:[t.rules.required]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),s("div",{staticClass:"error white--text",domProps:{innerHTML:t._s(t.error)}}),t._v(" "),s("br"),t._v(" "),s("v-btn",{staticClass:"teal",attrs:{dark:""},on:{click:t.login}},[t._v("\n                  Login\n                ")]),t._v(" "),s("v-btn",{staticClass:"teal",attrs:{dark:""},on:{click:t.hello}},[t._v("\n                  hello\n                ")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var T=s("VU/8")(q,E,!1,function(t){s("KPil")},"data-v-4ff53a00",null).exports,R={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{fluid:""}},[s("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-card",[s("v-toolbar",{attrs:{color:"teal"}},[s("v-btn",{attrs:{icon:""}},[s("v-icon",{attrs:{color:"white"}},[t._v("fas fa-lock")]),t._v(" "),s("v-icon",{attrs:{color:"white"}},[t._v("arrow_back")])],1),t._v(" "),s("v-spacer"),t._v(" "),s("v-btn",{attrs:{icon:""}},[s("v-icon",{attrs:{color:"white"}},[t._v("more_vert")])],1)],1),t._v(" "),s("v-container",{attrs:{fluid:""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{label:"Title",counter:"",max:"15",rules:[t.rules.required]},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{label:"E-mail",rules:[t.rules.required,t.rules.email]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},U=s("VU/8")({data:function(){return{title:"",email:"",rules:{required:function(t){return!!t||"Required."},email:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||"Invalid e-mail."}}}}},R,!1,null,null,null).exports,S={name:"chat",data:function(){return{users:[],message:"",chatMessages:[{sender:"a@a.com",m:"a@a.com"},{sender:"msse",m:"yedccccccccccccc cccccccccccccc cccccccccccccc ccccccccccccc ccccccccc ccccccs"},{sender:"a@a.com",m:"s"},{sender:"uu",m:"hi"}],error:null}},computed:{me:function(){return this.$store.state.user.email}},watch:{message:function(t){this.scrollToEnd()}},methods:{scrollToEnd:function(){var t=this.$el.querySelector(".scrollable");t.scrollTop=t.scrollHeight},send:function(){var t=this;return f()(v.a.mark(function e(){var s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t.message){e.next=6;break}return e.next=3,t.chatMessages.push({m:t.message,sender:t.$store.state.user.email});case 3:t.message=null,(s=t.$el.querySelector(".scrollable")).scrollTop=s.scrollHeight;case 6:case"end":return e.stop()}},e,t)}))()}},created:function(){},updated:function(){this.scrollToEnd()}},A={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{"pt-4":"",lang:"ar",dir:"rtl","align-center":"","justify-center":""}},[s("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[s("v-card",[s("div",{staticClass:"white elevation-2"},[s("v-toolbar",{staticClass:"teal",attrs:{flat:"",dense:""}},[s("v-toolbar-title",{staticClass:"white--text"},[t._v("chat")])],1),t._v(" "),s("v-flex",{staticClass:"scrollable"},t._l(t.chatMessages,function(e){return s("div",{key:e.m,staticClass:"chatList",class:{mine:t.me===e.sender}},[s("p",{staticClass:"message teal",class:{"darken-3":t.me===e.sender,"grey lighten-2":t.me!==e.sender}},[t._v(t._s(e.m))])])})),t._v(" "),s("v-container",{staticClass:"chat"},[s("v-flex",{staticStyle:{position:"relative"},attrs:{xs12:"",sm12:"","order-xs2":""}},[s("v-toolbar",{staticClass:"white chatbar",attrs:{dense:"",flat:""}},[s("v-text-field",{attrs:{placeholder:"اكتب رسالة"},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.send(e):null}},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),t._v(" "),s("div",{staticClass:"error white--text",domProps:{innerHTML:t._s(t.error)}}),t._v(" "),t.message?s("v-btn",{staticClass:"white",attrs:{color:"teal darken-4",dark:"",small:"",fab:""},on:{click:t.send}},[t._v("\r\n                    send\r\n                  ")]):t._e()],1)],1)],1)],1)])],1)],1)},staticRenderFns:[]};var L=s("VU/8")(S,A,!1,function(t){s("lFFA")},"data-v-2c5a07ab",null).exports,P=function(){return h().get("songs")},I=function(t){return h().post("songs",t)},N={components:{Panel:w},data:function(){return{songs:[{title:"Havana",artist:"Camilla",album:"Somthing"},{title:"Havana",artist:"Camilla",album:"Somthing"},{title:"Havana",artist:"Camilla",album:"Somthing"},{title:"No",artist:"Camilla",album:"Somthing"}]}},mounted:function(){var t=this;return f()(v.a.mark(function e(){var s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:s=e.sent,t.songs=s.data,console.log(t.songs);case 5:case"end":return e.stop()}},e,t)}))()}},F={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{attrs:{"pt-2":"","align-center":"","justify-center":""}},[s("v-flex",{attrs:{xs12:"",sm8:"",md6:""}},[s("panel",{attrs:{title:"songs"}},[s("v-btn",{attrs:{slot:"button",to:"songs/create",fab:"",small:"",absolute:"",middle:"",right:"",color:"white teal--text darken-4"},slot:"button"},[s("v-icon",[t._v("add")])],1),t._v(" "),s("v-card",[s("v-container",{staticStyle:{"min-height":"0"},attrs:{fluid:"","grid-list-lg":""}},[s("v-layout",{attrs:{column:""}},t._l(t.songs,function(e){return s("v-flex",{key:e.id,attrs:{xs12:"",md4:""}},[s("v-card",{attrs:{color:""}},[s("v-container",{attrs:{fluid:"","grid-list-lg":""}},[s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs7:""}},[s("div",[s("div",{staticClass:"headline"},[t._v(t._s(e.title))]),t._v(" "),s("div",{staticClass:"grey--text darken-4"},[t._v(t._s(e.artist))])])]),t._v(" "),s("v-flex",{attrs:{xs5:""}},[s("v-card-media",{attrs:{src:"img.jpg",height:"100px",contain:""}})],1)],1)],1)],1)],1)}))],1)],1)],1)],1)],1)},staticRenderFns:[]};var H=s("VU/8")(N,F,!1,function(t){s("9lrd")},"data-v-d1286092",null).exports,O=s("fZjL"),V=s.n(O),j={components:{Panel:w},data:function(){return{error:null,song:{title:null,artist:null,genre:null,album:null,albumImage:null,youtubeId:null,lyrics:null,tab:null},required:function(t){return!!t||"Required."}}},methods:{create:function(){var t=this;return f()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.error=null,V()(t.song).every(function(e){return!!t.song[e]})){e.next=5;break}return t.error="Please fill in all the required fields.",e.abrupt("return");case 5:return e.prev=5,e.next=8,I(t.song);case 8:t.$router.push({name:"songs"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.log(e.t0);case 14:case"end":return e.stop()}},e,t,[[5,11]])}))()}}},M={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{fluid:""}},[s("v-layout",{attrs:{"pt-2":"","justify-center":"","align-center":""}},[s("v-flex",{attrs:{xs12:"",sm6:"",md12:""}},[s("panel",{attrs:{title:"Create a song"}},[s("v-container",{attrs:{fluid:""}},[t.error?s("div",{staticClass:"error white--text text-xs-center"},[t._v("\n                      "+t._s(t.error)+"\n                  ")]):t._e(),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",md4:""}},[s("v-layout",{attrs:{column:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",md4:""}},[s("v-text-field",{attrs:{required:"",rules:[t.required],"pt-2":"",label:"Title"},model:{value:t.song.title,callback:function(e){t.$set(t.song,"title",e)},expression:"song.title"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",md4:""}},[s("v-text-field",{attrs:{required:"",rules:[t.required],"pt-2":"",label:"Artist"},model:{value:t.song.artist,callback:function(e){t.$set(t.song,"artist",e)},expression:"song.artist"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",md4:""}},[s("v-text-field",{attrs:{rules:[t.required],required:"","pt-2":"",label:"Album"},model:{value:t.song.album,callback:function(e){t.$set(t.song,"album",e)},expression:"song.album"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",md4:""}},[s("v-text-field",{attrs:{rules:[t.required],required:"","pt-2":"",label:"Album image"},model:{value:t.song.albumImage,callback:function(e){t.$set(t.song,"albumImage",e)},expression:"song.albumImage"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",md4:""}},[s("v-text-field",{attrs:{rules:[t.required],required:"","pt-2":"",label:"Genre"},model:{value:t.song.genre,callback:function(e){t.$set(t.song,"genre",e)},expression:"song.genre"}})],1),t._v(" "),s("v-flex",{attrs:{xs12:"",md4:""}},[s("v-text-field",{attrs:{rules:[t.required],required:"","pt-2":"",label:"Youtube Id"},model:{value:t.song.youtubeId,callback:function(e){t.$set(t.song,"youtubeId",e)},expression:"song.youtubeId"}})],1)],1)],1),t._v(" "),s("v-flex",{attrs:{"pl-3":"",xs12:"",md8:""}},[s("v-layout",{attrs:{row:"",wrap:"","align-center":"","justify-center":""}},[s("v-flex",{attrs:{xs10:""}},[s("v-text-field",{attrs:{rules:[t.required],required:"","pt-2":"","multi-line":"",label:"Lyrics"},model:{value:t.song.lyrics,callback:function(e){t.$set(t.song,"lyrics",e)},expression:"song.lyrics"}})],1),t._v(" "),s("v-flex",{attrs:{xs10:""}},[s("v-text-field",{attrs:{rules:[t.required],required:"","pt-2":"","multi-line":"",label:"Tab"},model:{value:t.song.tab,callback:function(e){t.$set(t.song,"tab",e)},expression:"song.tab"}})],1)],1)],1)],1)],1),t._v(" "),s("div",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{color:"teal darken-3 white--text"},on:{click:t.create}},[t._v("Create song")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var z=s("VU/8")(j,M,!1,function(t){s("J8Sc")},"data-v-281dbdee",null).exports;n.a.use(i.a);var Z=new i.a({routes:[{path:"/",name:"home",component:u},{path:"/register",name:"register",component:$},{path:"/login",name:"login",component:T},{path:"/vuetify",name:"RegisterVuetify",component:U},{path:"/chat",name:"Chat",component:L},{path:"/songs",name:"songs",component:H},{path:"/songs/create",name:"createSong",component:z}]}),K=(s("7zck"),s("3EgV")),W=s.n(K),G=s("9JMe"),J=s("NYxO");n.a.use(J.a);var D=new J.a.Store({strict:!0,state:{token:null,user:null,isLoggedin:!1,isConnected:!1,users:[]},mutations:{setToken:function(t,e){t.token=e,t.isLoggedin=!!e},setUser:function(t,e){t.user=e},SOCKET_CONNECT:function(t){t.isConnected=!0},SOCKET_DISCONNECT:function(t){t.isConnected=!1},NEW_USER:function(t,e){t.users.push(e)}},actions:{setToken:function(t,e){(0,t.commit)("setToken",e)},setUser:function(t,e){(0,t.commit)("setUser",e)},NEW_USER:function(t,e){(0,t.commit)("NEW_USER",e)}}}),Y=s("DmT9"),B=s.n(Y),X=s("hMcO"),Q=s.n(X);s.d(e,"socket",function(){return et}),n.a.config.productionTip=!1,n.a.use(W.a),Object(G.sync)(D,Z);var tt=D.getters.token,et=B()("http://localhost:3000",{autoConnect:!1,query:{token:tt}});n.a.use(Q.a,et,D),new n.a({el:"#app",router:Z,store:D,components:{App:o},template:"<App/>"})},lFFA:function(t,e){},mwOR:function(t,e){},nAxl:function(t,e){},uEEI:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.5c444c9e9e27b87ccb8d.js.map