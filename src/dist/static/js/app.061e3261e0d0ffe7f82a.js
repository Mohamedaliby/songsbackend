webpackJsonp([1],{"+f72":function(t,e){},"+rdf":function(t,e){},"/S/0":function(t,e){},0:function(t,e){},"6g94":function(t,e){},"7zck":function(t,e){},Kklr:function(t,e){},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=r("7+uW"),a=r("Xxa5"),o=r.n(a),i=r("exGp"),l=r.n(i),c=r("M4fF"),u={name:"searchPanel",data:function(){return{search:""}},watch:{search:r.n(c).a.debounce((n=l()(o.a.mark(function t(e){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r={name:"songs"},""!==this.search&&(r.query={search:this.search}),this.$router.push(r);case 3:case"end":return t.stop()}},t,this)})),function(t){return n.apply(this,arguments)}),700),"$route.query.search":{immediate:!0,handler:function(t){this.search=t}}}},d={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"search",attrs:{type:"text",name:"search",placeholder:"Search for music.."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})},staticRenderFns:[]};var v={components:{SearchPanel:r("VU/8")(u,d,!1,function(t){r("/S/0")},"data-v-7f5530d5",null).exports},methods:{GoTo:function(t){this.$router.push(t)},logOut:function(){this.$store.dispatch("setToken",null),this.$store.dispatch("setUser",null),this.$router.push({name:"home"}),this.$socket.close()}}},m={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-toolbar",{staticClass:"teal--text",attrs:{fixed:""}},[r("v-toolbar-title",{staticClass:"mr-4 logo"},[r("span",{on:{click:function(e){t.GoTo({name:"home"})}}},[t._v("Title")])]),t._v(" "),r("v-toolbar-items",[r("v-btn",{attrs:{flat:"",to:"/songs"}},[t._v("Browse")])],1),t._v(" "),r("v-toolbar-items",[t.$store.state.isLoggedin?r("v-btn",{attrs:{flat:"",to:"/history"}},[t._v("History")]):t._e()],1),t._v(" "),r("search-panel"),t._v(" "),r("v-spacer"),t._v(" "),r("v-toolbar-items",[t.$store.state.isLoggedin?t._e():r("v-btn",{attrs:{flat:""},on:{click:function(e){t.GoTo({name:"login"})}}},[t._v("Login\r\n      ")]),t._v(" "),t.$store.state.isLoggedin?t._e():r("v-btn",{attrs:{to:"register",flat:""}},[t._v("Sign up\r\n      ")]),t._v(" "),t.$store.state.isLoggedin?r("v-btn",{attrs:{flat:""},on:{click:t.logOut}},[t._v("Log out\r\n      ")]):t._e()],1)],1)],1)},staticRenderFns:[]};var p={name:"App",components:{PageHeader:r("VU/8")(v,m,!1,function(t){r("mpRi")},"data-v-23df6b12",null).exports},sockets:{disconnect:function(){console.log("disconnected yo"),this.$socket.close()}}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("v-app",[e("page-header"),this._v(" "),e("main",[e("router-view")],1)],1)],1)},staticRenderFns:[]};var g=r("VU/8")(p,f,!1,function(t){r("Kklr")},null,null).exports,h=r("/ocq"),x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-layout",{attrs:{id:"home",column:""}},[e("v-container",{attrs:{fluid:""}},[e("v-layout",[e("v-flex",{attrs:{sm12:""}},[e("div",{staticClass:"white--text teal"},[e("h1",[this._v("Music")])])])],1),this._v(" "),e("v-layout",[e("v-flex",{attrs:{sm4:""}},[e("h2",{staticClass:"card cyan accent-1"},[this._v("\n              123\n            ")])]),this._v(" "),e("v-flex",{attrs:{sm4:""}},[e("h2",{staticClass:"teal darken-2"},[this._v("\n                12\n              ")])]),this._v(" "),e("v-flex",{attrs:{sm4:""}},[e("h2",{staticClass:"orange"},[this._v("\n                555\n              ")])])],1)],1)],1)},staticRenderFns:[]};var b=r("VU/8")({name:"Home",data:function(){return{}}},x,!1,function(t){r("QVqv")},"data-v-0050adc2",null).exports,k=r("mtWM"),_=r.n(k),y=r("NYxO"),w=r("424j");s.a.use(y.a);var $=new y.a.Store({strict:!0,plugins:[Object(w.a)()],state:{token:null,user:null,isLoggedin:!1,isConnected:!1,users:[]},mutations:{setToken:function(t,e){t.token=e,t.isLoggedin=!!e},setUser:function(t,e){t.user=e},SOCKET_CONNECT:function(t){t.isConnected=!0},SOCKET_DISCONNECT:function(t){t.isConnected=!1},NEW_USER:function(t,e){t.users.push(e)}},actions:{setToken:function(t,e){(0,t.commit)("setToken",e)},setUser:function(t,e){(0,t.commit)("setUser",e)},NEW_USER:function(t,e){(0,t.commit)("NEW_USER",e)}}}),C=function(){return _.a.create({baseURL:"https://songtaps.herokuapp.com/",headers:{Authorization:"Bearer "+$.state.token}})},q=function(t){return C().post("register",t)},E=function(t){return C().post("login",t)},I=function(t,e){t.query.token=e,console.log(t),t.open()},S={name:"register",data:function(){return{email:"",password:"",error:null,rules:{required:function(t){return!!t||"Required."},email:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||"Invalid e-mail."}}}},watch:{email:function(t){console.log("email changed",t)}},methods:{register:function(){var t=this;return l()(o.a.mark(function e(){var r,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q({email:t.email,password:t.password});case 3:return r=e.sent,t.$store.dispatch("setToken",r.data.token),t.$store.dispatch("setUser",r.data.user),console.log(r),t.error=null,n=r.data.user,e.next=11,I(t.$socket,t.$store.state.token);case 11:t.$socket.emit("login",n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),t.error=e.t0.response.data.error||e.t0.response.data;case 17:case"end":return e.stop()}},e,t,[[0,14]])}))()}}},R={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{"pt-2":"","align-center":"","justify-center":""}},[r("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[r("v-card",[r("panel",{attrs:{title:"Register"}},[r("v-container",{attrs:{fluid:""}},[r("v-text-field",{attrs:{type:"email",label:"email",rules:[t.rules.required]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),r("v-text-field",{attrs:{label:"password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),r("br"),t._v(" "),r("div",{staticClass:"danger-alert",domProps:{innerHTML:t._s(t.error)}}),t._v(" "),r("br"),t._v(" "),r("v-btn",{staticClass:"teal",attrs:{dark:""},on:{click:t.register}},[t._v("\n                  Register\n                ")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var T=r("VU/8")(S,R,!1,function(t){r("of5+")},"data-v-50b70970",null).exports,L={name:"Login",data:function(){return{email:"",password:"",error:null,rules:{required:function(t){return!!t||"Required."},email:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||"Invalid e-mail."}}}},watch:{email:function(t){}},sockets:{login:function(t){console.log(t)},newUserAdded:function(t){console.log(t),this.$store.dispatch("NEW_USER",t)}},methods:{login:function(){var t=this;return l()(o.a.mark(function e(){var r,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E({email:t.email,password:t.password});case 3:return r=e.sent,t.$store.dispatch("setToken",r.data.token),t.$store.dispatch("setUser",r.data.user),console.log(r),t.error=null,n=r.data.user,e.next=11,I(t.$socket,t.$store.state.token);case 11:t.$socket.emit("login",n),t.$router.push({name:"songs"}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),t.error=e.t0.response.data;case 18:case"end":return e.stop()}},e,t,[[0,15]])}))()},hello:function(){this.$socket.emit("hello","hello yo")}}},U={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{"pt-2":"","align-center":"","justify-center":""}},[r("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[r("v-card",[r("panel",{attrs:{title:"Login"}},[r("v-container",{attrs:{fluid:""}},[r("v-text-field",{attrs:{type:"email",label:"email",rules:[t.rules.required]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),r("v-text-field",{attrs:{label:"password",type:"password",rules:[t.rules.required]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),r("div",{staticClass:"error white--text",domProps:{innerHTML:t._s(t.error)}}),t._v(" "),r("br"),t._v(" "),r("v-btn",{staticClass:"teal",attrs:{dark:""},on:{click:t.login}},[t._v("\n                  Login\n                ")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var F=r("VU/8")(L,U,!1,function(t){r("ZxEw")},"data-v-402c0846",null).exports,V={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},[r("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[r("v-flex",{attrs:{xs12:"",sm6:""}},[r("v-card",[r("v-toolbar",{attrs:{color:"teal"}},[r("v-btn",{attrs:{icon:""}},[r("v-icon",{attrs:{color:"white"}},[t._v("fas fa-lock")]),t._v(" "),r("v-icon",{attrs:{color:"white"}},[t._v("arrow_back")])],1),t._v(" "),r("v-spacer"),t._v(" "),r("v-btn",{attrs:{icon:""}},[r("v-icon",{attrs:{color:"white"}},[t._v("more_vert")])],1)],1),t._v(" "),r("v-container",{attrs:{fluid:""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Title",counter:"",max:"15",rules:[t.rules.required]},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"E-mail",rules:[t.rules.required,t.rules.email]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},j=r("VU/8")({data:function(){return{title:"",email:"",rules:{required:function(t){return!!t||"Required."},email:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||"Invalid e-mail."}}}}},V,!1,null,null,null).exports,A={name:"chat",data:function(){return{users:[],message:"",chatMessages:[{sender:"a@a.com",m:"a@a.com"},{sender:"msse",m:"yedccccccccccccc cccccccccccccc cccccccccccccc ccccccccccccc ccccccccc ccccccs"},{sender:"a@a.com",m:"s"},{sender:"uu",m:"hi"}],error:null}},computed:{me:function(){return this.$store.state.user.email}},watch:{message:function(t){this.scrollToEnd()}},methods:{scrollToEnd:function(){var t=this.$el.querySelector(".scrollable");t.scrollTop=t.scrollHeight},send:function(){var t=this;return l()(o.a.mark(function e(){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t.message){e.next=6;break}return e.next=3,t.chatMessages.push({m:t.message,sender:t.$store.state.user.email});case 3:t.message=null,(r=t.$el.querySelector(".scrollable")).scrollTop=r.scrollHeight;case 6:case"end":return e.stop()}},e,t)}))()}},created:function(){},updated:function(){this.scrollToEnd()},sockets:{}},B={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{"pt-4":"",lang:"ar",dir:"rtl","align-center":"","justify-center":""}},[r("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[r("v-card",[r("div",{staticClass:"white elevation-2"},[r("v-toolbar",{staticClass:"teal",attrs:{flat:"",dense:""}},[r("v-toolbar-title",{staticClass:"white--text"},[t._v("chat")])],1),t._v(" "),r("v-flex",{staticClass:"scrollable"},t._l(t.chatMessages,function(e){return r("div",{key:e.m,staticClass:"chatList",class:{mine:t.me===e.sender}},[r("p",{staticClass:"message teal",class:{"darken-3":t.me===e.sender,"grey lighten-2":t.me!==e.sender}},[t._v(t._s(e.m))])])})),t._v(" "),r("v-container",{staticClass:"chat"},[r("v-flex",{staticStyle:{position:"relative"},attrs:{xs12:"",sm12:"","order-xs2":""}},[r("v-toolbar",{staticClass:"white chatbar",attrs:{dense:"",flat:""}},[r("v-text-field",{attrs:{placeholder:"اكتب رسالة"},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.send(e):null}},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),t._v(" "),r("div",{staticClass:"error white--text",domProps:{innerHTML:t._s(t.error)}}),t._v(" "),t.message?r("v-btn",{staticClass:"white",attrs:{color:"teal darken-4",dark:"",small:"",fab:""},on:{click:t.send}},[t._v("\r\n                    send\r\n                  ")]):t._e()],1)],1)],1)],1)])],1)],1)},staticRenderFns:[]};var M=r("VU/8")(A,B,!1,function(t){r("lgGC")},"data-v-7f5c444a",null).exports,N=r("Dd8w"),O=r.n(N),z=function(t){return C().get("bookmarks",{params:t})},H=function(t){return C().post("bookmarks",t)},P=function(t){return C().delete("bookmarks/"+t)},Z={props:["song"],data:function(){return{bookmarkId:null,isBookmarked:!1}},methods:{bookmark:function(){var t=this;return l()(o.a.mark(function e(){var r,n,s,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.user.id,n=t.song.id,e.next=5,H({songId:n,userId:r});case 5:s=e.sent,a=s.data,t.bookmarkId=s.data.id,t.isBookmarked=!!a,console.log(t.isBookmarked),console.log("bookmarked "),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}},e,t,[[0,13]])}))()},unbookmark:function(){var t=this;return l()(o.a.mark(function e(){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.bookmarkId,console.log(t.isBookmarked),console.log(t.bookmarkId),e.next=6,P(r);case 6:t.isBookmarked=!t.isBookmarked,console.log("unbookmarked "),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}},e,t,[[0,10]])}))()}},watch:{},computed:O()({},Object(y.b)(["isLoggedin","user"])),mounted:function(){var t=this;return l()(o.a.mark(function e(){var r,n,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isLoggedin){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,r=t.user.id,n=t.song.id,console.log({songId:n,userId:r}),e.next=8,z({songId:n});case 8:s=e.sent,console.log(s.data),console.log("bookmark:  "+s.data),s.data&&(t.isBookmarked=!0),t.bookmarkId=s.data.id,console.log(t.bookmarkId),console.log(t.isBookmarked),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(2);case 19:case"end":return e.stop()}},e,t,[[2,17]])}))()}},G={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:"","grid-list-lg":""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs3:""}},[r("v-card-media",{attrs:{src:t.song.albumImage,height:"100px",width:"100px",contain:""}})],1),t._v(" "),r("v-flex",{attrs:{xs3:"",md6:""}},[r("div",[r("div",{staticClass:"headline"},[t._v(t._s(t.song.title))]),t._v(" "),r("div",{staticClass:"grey--text darken-4"},[t._v(t._s(t.song.artist))])])]),t._v(" "),r("v-spacer"),t._v(" "),r("v-flex",{attrs:{xs4:"",md2:""}},[t.isLoggedin&&t.isBookmarked?r("v-btn",{staticClass:"bookmark",attrs:{fab:"",medium:"",flat:"",color:"yellow"},on:{click:t.unbookmark}},[r("v-icon",[t._v("star")])],1):t._e(),t._v(" "),t.isLoggedin&&!t.isBookmarked?r("v-btn",{staticClass:"bookmark",attrs:{flat:"",fab:"",medium:"",color:"grey"},on:{click:t.bookmark}},[r("v-icon",[t._v("star")])],1):t._e(),t._v(" "),r("v-btn",{attrs:{to:{name:"song",params:{id:t.song.id}},small:"",flat:"",color:"teal"}},[t._v("\n        View\n    ")])],1)],1)],1)},staticRenderFns:[]};var W=function(t){return C().get("songs",{params:{search:t}})},D=function(t){return C().post("songs",t)},K=function(t){return C().get("songs/"+t)},Q=function(t,e){return C().put("songs/"+t,e)},X=function(t){return C().delete("songs/"+t)},Y={components:{Song:r("VU/8")(Z,G,!1,function(t){r("rTyN")},"data-v-74d59fde",null).exports},data:function(){return{songs:[]}},watch:{"$route.query.search":{immediate:!0,handler:function(t){var e=this;return l()(o.a.mark(function r(){var n;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,W(t);case 2:n=r.sent,e.songs=n.data,console.log(e.songs);case 5:case"end":return r.stop()}},r,e)}))()}}}},J={render:function(){var t=this.$createElement,e=this._self._c||t;return e("panel",{attrs:{title:"songs"}},[e("v-btn",{attrs:{slot:"button",to:"songs/create",fab:"",small:"",absolute:"",middle:"",right:"",color:"white teal--text darken-4"},slot:"button"},[e("v-icon",[this._v("add")])],1),this._v(" "),e("v-card",[e("v-container",{staticStyle:{"min-height":"0"},attrs:{fluid:"","grid-list-lg":""}},[e("v-layout",{attrs:{column:""}},this._l(this.songs,function(t){return e("v-flex",{key:t.id,attrs:{xs12:"",md4:""}},[e("v-card",{attrs:{color:""}},[e("song",{attrs:{song:t}})],1)],1)}))],1)],1)],1)},staticRenderFns:[]};var tt=r("VU/8")(Y,J,!1,function(t){r("l7HM")},"data-v-4f211baa",null).exports,et={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"white elevation-2"},[r("v-toolbar",{staticClass:"teal",attrs:{flat:"",dense:""}},[r("v-toolbar-title",{staticClass:"white--text"},[t._v(t._s(t.title))]),t._v(" "),t._t("button")],2),t._v(" "),t._t("default",[t._v("\n                No slot content.\n            ")])],2)},staticRenderFns:[]};var rt=r("VU/8")({props:["title"]},et,!1,function(t){r("mu2k")},"data-v-5e57b5d3",null).exports,nt={components:{Panel:rt},data:function(){return{headers:[{text:"Title",value:"title"},{text:"Artist",value:"title"}],pagination:{sortBy:"date",descending:!0},bookmarks:[]}},computed:O()({},Object(y.b)(["isLoggedin","user"])),mounted:function(){var t=this;return l()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isLoggedin){e.next=3;break}return console.log("not logged in"),e.abrupt("return");case 3:return e.prev=3,console.log("bookmarks"),e.next=7,z({});case 7:t.bookmarks=e.sent.data,console.log(t.bookmarks),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:case"end":return e.stop()}},e,t,[[3,11]])}))()}},st={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("panel",{attrs:{title:"Bookmarks"}},[r("v-data-table",{attrs:{headers:t.headers,pagination:t.pagination,items:t.bookmarks},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[r("td",{staticClass:"text-xs-right"},[t._v("\n            "+t._s(e.item.title)+"\n        ")]),t._v(" "),r("td",{staticClass:"text-xs-right"},[t._v("\n            "+t._s(e.item.artist)+"\n        ")])]}}])})],1)},staticRenderFns:[]};var at=r("VU/8")(nt,st,!1,function(t){r("V5uQ")},null,null).exports,ot={data:function(){return{}},components:{SongsPanel:tt,SongsBookmarks:at}},it={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-layout",{attrs:{row:"",wrap:"","pt-2":"","justify-center":""}},[e("v-spacer"),this._v(" "),e("v-flex",{attrs:{xs12:"",sm8:"",md6:""}},[e("songs-panel")],1),this._v(" "),e("v-flex",{attrs:{"pl-2":"",xs12:"",sm3:"",md3:""}},[e("songs-bookmarks")],1)],1)},staticRenderFns:[]};var lt=r("VU/8")(ot,it,!1,function(t){r("+rdf")},null,null).exports,ct=r("fZjL"),ut=r.n(ct),dt={data:function(){return{error:null,song:{title:null,artist:null,genre:null,album:null,youtubeId:null,lyrics:null,tab:null},albumImage:null,required:function(t){return!!t||"Required."}}},methods:{create:function(){var t=this;return l()(o.a.mark(function e(){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.error=null,ut()(t.song).every(function(e){return!!t.song[e]})){e.next=5;break}return t.error="Please fill in all the required fields.",e.abrupt("return");case 5:return e.prev=5,(r=new FormData).append("file",t.albumImage),r.append("title",t.song.title),r.append("artist",t.song.artist),r.append("genre",t.song.genre),r.append("album",t.song.album),r.append("youtubeId",t.song.youtubeId),r.append("lyrics",t.song.lyrics),r.append("tab",t.song.tab),console.log(r),console.log(t.song),e.next=19,D(r);case 19:t.$router.push({name:"songs"}),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(5),console.log(e.t0);case 25:case"end":return e.stop()}},e,t,[[5,22]])}))()},onFileSelected:function(t){console.log(t),this.albumImage=t.target.files[0]}}},vt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},[r("v-layout",{attrs:{"pt-2":"","justify-center":"","align-center":""}},[r("v-flex",{attrs:{xs12:"",sm6:"",md12:""}},[r("panel",{attrs:{title:"Create a song"}},[r("v-container",{attrs:{fluid:""}},[t.error?r("div",{staticClass:"error white--text text-xs-center"},[t._v("\n                      "+t._s(t.error)+"\n                  ")]):t._e(),t._v(" "),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-layout",{attrs:{column:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-text-field",{attrs:{required:"",rules:[t.required],"pt-2":"",label:"Title"},model:{value:t.song.title,callback:function(e){t.$set(t.song,"title",e)},expression:"song.title"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-text-field",{attrs:{required:"",rules:[t.required],"pt-2":"",label:"Artist"},model:{value:t.song.artist,callback:function(e){t.$set(t.song,"artist",e)},expression:"song.artist"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-text-field",{attrs:{rules:[t.required],required:"","pt-2":"",label:"Album"},model:{value:t.song.album,callback:function(e){t.$set(t.song,"album",e)},expression:"song.album"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-text-field",{attrs:{rules:[t.required],required:"","pt-2":"",label:"Genre"},model:{value:t.song.genre,callback:function(e){t.$set(t.song,"genre",e)},expression:"song.genre"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-btn",{attrs:{light:"",color:"white"},on:{click:function(e){t.$refs.image.click()}}},[t._v("\n                                             Select an album image\n                                      ")]),t._v(" "),r("input",{ref:"image",staticStyle:{display:"none"},attrs:{type:"file",name:"file"},on:{change:t.onFileSelected}})],1),t._v(" "),r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-text-field",{attrs:{rules:[t.required],required:"","pt-2":"",label:"Youtube Id"},model:{value:t.song.youtubeId,callback:function(e){t.$set(t.song,"youtubeId",e)},expression:"song.youtubeId"}})],1)],1)],1),t._v(" "),r("v-flex",{attrs:{"pl-3":"",xs12:"",md8:""}},[r("v-layout",{attrs:{row:"",wrap:"","align-center":"","justify-center":""}},[r("v-flex",{attrs:{xs10:""}},[r("v-text-field",{attrs:{rules:[t.required],required:"","pt-2":"","multi-line":"",label:"Lyrics"},model:{value:t.song.lyrics,callback:function(e){t.$set(t.song,"lyrics",e)},expression:"song.lyrics"}})],1),t._v(" "),r("v-flex",{attrs:{xs10:""}},[r("v-text-field",{attrs:{rules:[t.required],required:"","pt-2":"","multi-line":"",label:"Tab"},model:{value:t.song.tab,callback:function(e){t.$set(t.song,"tab",e)},expression:"song.tab"}})],1)],1)],1)],1)],1),t._v(" "),r("div",{staticClass:"text-xs-center"},[r("v-btn",{attrs:{color:"teal darken-3 white--text"},on:{click:t.create}},[t._v("Create song")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var mt=r("VU/8")(dt,vt,!1,function(t){r("6g94")},"data-v-6db57f89",null).exports,pt=function(t){return C().get("history",{params:t})},ft=function(t){return C().post("history",t)},gt={components:{},data:function(){return{tile:!0,show:!1,song:{},mediaColors:["grey","teal","orange","deep-orange darken-3","deep-orange darken-4","deep-orange darken-2","blue-grey lighten-3","grey lighten-1","teal lighten-3"]}},methods:{deleteSong:function(){var t=this;return l()(o.a.mark(function e(){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.$route.params.id,e.next=4,X(r);case 4:console.log("song deleted"),t.$router.push({name:"songs"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,t,[[0,8]])}))()}},computed:O()({},Object(y.b)(["isLoggedin","user"]),{backgroundColor:function(){var t=Math.floor(8*Math.random()+1);return this.mediaColors[t]}}),mounted:function(){var t=this;return l()(o.a.mark(function e(){var r,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.$store.state.route.params.id,console.log(r),e.next=5,K(r);case 5:n=e.sent,t.song=n.data,t.isLoggedin&&ft({songId:r,userId:t.user.id}),console.log(t.song),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}},e,t,[[0,11]])}))()}},ht={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{"pt-2":"",row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","pl-2":"","pr-2":"","pt-1":""}},[r("v-card",[r("v-card-media",{class:t.backgroundColor,attrs:{height:"200px",color:"grey lighten-4"}},[r("v-spacer"),t._v(" "),r("div",{staticClass:"text-xs-center"},[r("v-menu",{staticClass:"mr-2",attrs:{"open-on-click":"",bottom:"","offset-y":""}},[r("v-btn",{attrs:{slot:"activator",flat:""},slot:"activator"},[t._v("Edit")]),t._v(" "),r("v-list",[r("v-list-tile",{attrs:{to:{name:"edit-song",params:{id:t.song.id}}}},[r("v-list-tile-title",[t._v("Edit")])],1),t._v(" "),r("v-list-tile",{on:{click:t.deleteSong}},[r("v-list-tile-title",[t._v("delete")])],1)],1)],1)],1)],1),t._v(" "),r("v-avatar",{staticClass:"img",attrs:{tile:t.tile,size:"200px",color:"grey lighten-4"}},[r("img",{attrs:{src:t.song.albumImage,alt:"avatar"}})]),t._v(" "),r("v-card-title",{attrs:{"primary-title":""}},[r("div",{staticClass:"song-details pl-1 pr-1"},[r("div",{staticClass:"headline"},[t._v(t._s(t.song.title))]),t._v(" "),r("span",{staticClass:"grey--text"},[t._v(t._s(t.song.artist))])])]),t._v(" "),r("v-card-actions",[r("v-btn",{attrs:{flat:""}},[t._v("Share")]),t._v(" "),r("v-btn",{attrs:{flat:"",color:"purple"}},[t._v("Explore")]),t._v(" "),r("v-spacer"),t._v(" "),r("v-btn",{attrs:{flat:""},nativeOn:{click:function(e){t.show=!t.show}}},[r("span",[t._v("Lyrics")]),r("v-icon",{attrs:{"pl-1":""}},[t._v(t._s(t.show?"keyboard_arrow_down":"keyboard_arrow_up"))])],1)],1),t._v(" "),r("v-slide-y-transition",[r("v-card-text",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[r("v-flex",{attrs:{"pl-4":"","pr-4":""}},[r("div",{staticClass:"headline teal--text"},[t._v("Lyrics\n                ")]),t._v(" "),r("br"),t._v(" "),r("p",{staticClass:"lyrics"},[t._v(t._s(t.song.lyrics))])])],1)],1)],1)],1),t._v(" "),r("v-flex",{attrs:{xs12:"",sm6:"","pl-2":"","pr-2":"","pt-1":""}},[r("v-card",[r("v-card-title",{attrs:{"primary-title":""}},[r("div",{staticClass:"headline teal--text"},[t._v("Tab")])])],1)],1)],1)},staticRenderFns:[]};var xt=r("VU/8")(gt,ht,!1,function(t){r("RZwE")},"data-v-723fae40",null).exports,bt={data:function(){return{tile:!1,error:null,song:{title:null,artist:null,genre:null,album:null,albumImage:null,youtubeId:null,lyrics:null,tab:null},required:function(t){return!!t||"Required."}}},methods:{save:function(){var t=this;return l()(o.a.mark(function e(){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.error=null,ut()(t.song).every(function(e){return!!t.song[e]})){e.next=5;break}return t.error="Please fill in all the required fields.",e.abrupt("return");case 5:return e.prev=5,(r=new FormData).append("id",t.song.id),r.append("file",t.song.albumImage),r.append("title",t.song.title),r.append("artist",t.song.artist),r.append("genre",t.song.genre),r.append("album",t.song.album),r.append("youtubeId",t.song.youtubeId),r.append("lyrics",t.song.lyrics),r.append("tab",t.song.tab),console.log(r),console.log(t.song),e.next=20,Q(t.song.id,r);case 20:t.$router.push({name:"song",params:{id:t.song.id}}),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(5),console.log(e.t0);case 26:case"end":return e.stop()}},e,t,[[5,23]])}))()},onFileSelected:function(t){console.log(t),this.song.albumImage=t.target.files[0]}},mounted:function(){var t=this;return l()(o.a.mark(function e(){var r,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$store.state.route.params.id,console.log(r),e.next=4,K(r);case 4:n=e.sent,t.song=n.data,console.log(t.song);case 7:case"end":return e.stop()}},e,t)}))()}},kt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},[r("v-layout",{attrs:{"pt-2":"","justify-center":"","align-center":""}},[r("v-flex",{attrs:{xs12:"",sm6:"",md12:""}},[r("panel",{attrs:{title:"Create a song"}},[r("v-container",{attrs:{fluid:""}},[t.error?r("div",{staticClass:"error white--text text-xs-center"},[t._v("\n                      "+t._s(t.error)+"\n                  ")]):t._e(),t._v(" "),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-layout",{attrs:{column:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-text-field",{attrs:{required:"",rules:[t.required],"pt-2":"",label:"Title"},model:{value:t.song.title,callback:function(e){t.$set(t.song,"title",e)},expression:"song.title"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-text-field",{attrs:{required:"",rules:[t.required],"pt-2":"",label:"Artist"},model:{value:t.song.artist,callback:function(e){t.$set(t.song,"artist",e)},expression:"song.artist"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-text-field",{attrs:{rules:[t.required],required:"","pt-2":"",label:"Album"},model:{value:t.song.album,callback:function(e){t.$set(t.song,"album",e)},expression:"song.album"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-text-field",{attrs:{rules:[t.required],required:"","pt-2":"",label:"Genre"},model:{value:t.song.genre,callback:function(e){t.$set(t.song,"genre",e)},expression:"song.genre"}})],1),t._v(" "),r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-avatar",{attrs:{tile:t.tile,size:"100px",color:"grey lighten-4"}},[r("img",{attrs:{src:t.song.albumImage,alt:"avatar"}})]),t._v(" "),r("v-btn",{attrs:{light:"",color:"white"},on:{click:function(e){t.$refs.image.click()}}},[t._v("\n                                             Select an album image\n                                      ")]),t._v(" "),r("input",{ref:"image",staticStyle:{display:"none"},attrs:{type:"file",name:"file"},on:{change:t.onFileSelected}})],1),t._v(" "),r("v-flex",{attrs:{xs12:"",md4:""}},[r("v-text-field",{attrs:{rules:[t.required],required:"","pt-2":"",label:"Youtube Id"},model:{value:t.song.youtubeId,callback:function(e){t.$set(t.song,"youtubeId",e)},expression:"song.youtubeId"}})],1)],1)],1),t._v(" "),r("v-flex",{attrs:{"pl-3":"",xs12:"",md8:""}},[r("v-layout",{attrs:{row:"",wrap:"","align-center":"","justify-center":""}},[r("v-flex",{attrs:{xs10:""}},[r("v-text-field",{attrs:{rules:[t.required],required:"","pt-2":"","multi-line":"",label:"Lyrics"},model:{value:t.song.lyrics,callback:function(e){t.$set(t.song,"lyrics",e)},expression:"song.lyrics"}})],1),t._v(" "),r("v-flex",{attrs:{xs10:""}},[r("v-text-field",{attrs:{rules:[t.required],required:"","pt-2":"","multi-line":"",label:"Tab"},model:{value:t.song.tab,callback:function(e){t.$set(t.song,"tab",e)},expression:"song.tab"}})],1)],1)],1)],1)],1),t._v(" "),r("div",{staticClass:"text-xs-center"},[r("v-btn",{attrs:{color:"teal darken-3 white--text"},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var _t=r("VU/8")(bt,kt,!1,function(t){r("+f72")},"data-v-c0f509ba",null).exports,yt={components:{Panel:rt},data:function(){return{headers:[{text:"Title",value:"title"},{text:"Artist",value:"title"}],pagination:{sortBy:"date",descending:!0},history:[]}},computed:O()({},Object(y.b)(["isLoggedin","user"])),mounted:function(){var t=this;return l()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isLoggedin){e.next=3;break}return console.log("not logged in"),e.abrupt("return");case 3:return e.prev=3,console.log(t.user.id),e.next=7,pt({});case 7:t.history=e.sent.data,console.log(t.history),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:case"end":return e.stop()}},e,t,[[3,11]])}))()}},wt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{row:"",wrap:"","pt-2":"","justify-center":"","align-center":""}},[r("v-flex",{attrs:{xs12:"",sm8:"",md6:""}},[r("panel",{attrs:{title:"History"}},[r("v-data-table",{staticClass:"text-xs-right",attrs:{headers:t.headers,pagination:t.pagination,items:t.history},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[r("td",{staticClass:"text-xs-right"},[t._v("\n                "+t._s(e.item.title)+"\n            ")]),t._v(" "),r("td",{staticClass:"text-xs-right grey--text darken-4"},[t._v("\n                "+t._s(e.item.artist)+"\n            ")])]}}])})],1)],1)],1)},staticRenderFns:[]};var $t=r("VU/8")(yt,wt,!1,function(t){r("znXu")},null,null).exports;s.a.use(h.a);var Ct=new h.a({routes:[{path:"/",name:"home",component:b},{path:"/register",name:"register",component:T},{path:"/login",name:"login",component:F},{path:"/vuetify",name:"RegisterVuetify",component:j},{path:"/chat",name:"Chat",component:M},{path:"/songs",name:"songs",component:lt},{path:"/songs/create",name:"createSong",component:mt},{path:"/songs/:id",name:"song",component:xt},{path:"/songs/:id/edit",name:"edit-song",component:_t},{path:"/songs/bookmarks",name:"songs-bookmarks",component:at},{path:"/history",name:"history",component:$t},{path:"*",redirect:"home"}]}),qt=(r("7zck"),r("3EgV")),Et=r.n(qt),It=r("9JMe"),St=r("DmT9"),Rt=r.n(St),Tt=r("hMcO"),Lt=r.n(Tt);r.d(e,"socket",function(){return Ft}),s.a.config.productionTip=!1,s.a.component("panel",rt),s.a.use(Et.a),Object(It.sync)($,Ct);var Ut=$.getters.token,Ft=Rt()("http://localhost:3000",{autoConnect:!1,query:{token:Ut}});s.a.use(Lt.a,Ft,$),new s.a({el:"#app",router:Ct,store:$,components:{App:g},template:"<App/>"})},QVqv:function(t,e){},RZwE:function(t,e){},V5uQ:function(t,e){},ZxEw:function(t,e){},l7HM:function(t,e){},lgGC:function(t,e){},mpRi:function(t,e){},mu2k:function(t,e){},"of5+":function(t,e){},rTyN:function(t,e){},znXu:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.061e3261e0d0ffe7f82a.js.map